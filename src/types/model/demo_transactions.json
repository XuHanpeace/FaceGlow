{
  "transactions": [
    {
      "_id": "tx_001",
      "user_id": "user_12345",
      "transaction_type": "coin_purchase",
      "status": "completed",
      "coin_amount": 100,
      "balance_before": 50,
      "balance_after": 150,
      "payment_method": "apple_pay",
      "apple_transaction_id": "1000000123456789",
      "apple_product_id": "com.digitech.faceglow.assets.coins",
      "description": "购买Face Coins金币包",
      "metadata": {
        "coin_package": {
          "package_id": "coins_pack_001",
          "package_name": "Face Coins",
          "bonus_coins": 0
        }
      },
      "created_at": 1703123456789,
      "updated_at": 1703123456789,
      "completed_at": 1703123456789
    },
    {
      "_id": "tx_002",
      "user_id": "user_12345",
      "transaction_type": "coin_consumption",
      "status": "completed",
      "coin_amount": -10,
      "balance_before": 150,
      "balance_after": 140,
      "payment_method": "internal",
      "description": "AI换脸消费",
      "related_id": "fusion_001",
      "metadata": {
        "fusion": {
          "template_id": "template_001",
          "activity_id": "activity_001",
          "result_url": "https://example.com/result1.jpg"
        }
      },
      "created_at": 1703123567890,
      "updated_at": 1703123567890,
      "completed_at": 1703123567890
    },
    {
      "_id": "tx_003",
      "user_id": "user_12345",
      "transaction_type": "subscription",
      "status": "completed",
      "coin_amount": 0,
      "balance_before": 140,
      "balance_after": 140,
      "payment_method": "apple_pay",
      "apple_transaction_id": "1000000123456790",
      "apple_product_id": "com.digitech.faceglow.subscribe.monthly",
      "description": "订阅月会员",
      "metadata": {
        "subscription": {
          "plan_type": "monthly",
          "expiration_date": 1705801856789
        }
      },
      "created_at": 1703123678901,
      "updated_at": 1703123678901,
      "completed_at": 1703123678901
    },
    {
      "_id": "tx_004",
      "user_id": "user_12345",
      "transaction_type": "bonus",
      "status": "completed",
      "coin_amount": 20,
      "balance_before": 140,
      "balance_after": 160,
      "payment_method": "system_bonus",
      "description": "新用户注册奖励",
      "metadata": {
        "coin_package": {
          "package_id": "new_user_bonus",
          "package_name": "新用户奖励",
          "bonus_coins": 20
        }
      },
      "created_at": 1703123789012,
      "updated_at": 1703123789012,
      "completed_at": 1703123789012
    },
    {
      "_id": "tx_005",
      "user_id": "user_12345",
      "transaction_type": "coin_consumption",
      "status": "failed",
      "coin_amount": -10,
      "balance_before": 160,
      "balance_after": 160,
      "payment_method": "internal",
      "description": "AI换脸消费（失败）",
      "related_id": "fusion_002",
      "metadata": {
        "fusion": {
          "template_id": "template_002",
          "activity_id": "activity_001"
        }
      },
      "created_at": 1703123890123,
      "updated_at": 1703123890123
    }
  ],
  "summary": {
    "total_transactions": 5,
    "total_coins_earned": 120,
    "total_coins_spent": 20,
    "current_balance": 160,
    "transaction_types": {
      "coin_purchase": 1,
      "coin_consumption": 2,
      "subscription": 1,
      "bonus": 1
    },
    "status_counts": {
      "completed": 4,
      "failed": 1
    }
  }
}
