# TODO 待实现接口

## 云函数接口

### 1. faceFusion云函数
- **位置**: `src/services/tcb/tcb.ts`
- **状态**: 已创建模拟实现
- **需要实现**: 
  - 调用CloudBase的faceFusion云函数
  - 传递templateId、selfieUrl、userId参数
  - 处理返回的AI生成图片URL

### 2. 人脸融合API
- **位置**: `src/services/tcb/tcb.ts` - `callFusion`函数
- **状态**: 已创建模拟实现
- **需要实现**:
  - 调用腾讯云人脸融合API
  - 传递projectId、modelId、imageUrl参数
  - 处理返回的融合结果

## 数据库接口

### 3. 更新用户自拍照信息
- **位置**: `src/services/database/userDataService.ts` - `updateUserSelfie`方法
- **状态**: ✅ 已实现
- **功能**: 更新用户的selfie_url字段

### 4. 用户作品管理
- **位置**: `src/services/database/userDataService.ts`
- **状态**: 待实现
- **需要实现**:
  - `createUserWork`: 创建用户作品记录
  - `getUserWorks`: 获取用户作品列表
  - `updateUserWork`: 更新用户作品信息
  - `deleteUserWork`: 删除用户作品

## 前端功能

### 5. 结果展示页面
- **位置**: 需要创建新的页面
- **状态**: 待实现
- **功能**:
  - 展示AI生成的图片
  - 提供保存、分享功能
  - 显示处理进度

### 6. 模板数据获取
- **位置**: `src/screens/BeforeCreationScreen.tsx`
- **状态**: 使用模拟数据
- **需要实现**:
  - 从API获取真实模板数据
  - 包含projectId、modelId等信息

## 配置更新

### 7. CloudBase配置
- **位置**: `src/config/cloudbase.ts`
- **状态**: 待更新
- **需要添加**:
  - faceFusion云函数配置
  - 人脸融合API配置

## 优先级

1. **高优先级**: faceFusion云函数实现
2. **中优先级**: 用户作品管理接口
3. **低优先级**: 结果展示页面

---

# 周末TODO清单

## 🗄️ 数据库设计任务

### 1. 完善用户表设计
- **状态**: 待实现
- **优先级**: 高
- **任务内容**:
  - 设计完整的用户表结构
  - 实现注册成功后的用户记录写入
  - 添加自拍照列表字段
  - 添加作品列表字段
  - 添加用户偏好设置字段

### 2. 设计素材表
- **状态**: 待实现
- **优先级**: 高
- **任务内容**:
  - 设计素材表结构
  - 实现素材与活动的关联关系
  - 添加素材URL链接字段
  - 实现素材的CRUD操作

## 🔧 技术实现任务

### 3. 用户注册流程完善
- **状态**: 待实现
- **优先级**: 高
- **任务内容**:
  - 修改注册成功后的回调逻辑
  - 调用用户表写入接口
  - 初始化用户自拍照和作品列表
  - 完善错误处理

### 4. 素材管理功能
- **状态**: 待实现
- **优先级**: 中
- **任务内容**:
  - 实现素材列表获取接口
  - 实现按活动ID筛选素材
  - 集成到模板选择页面
  - 添加素材缓存机制

## 📱 前端优化任务

### 5. 模板数据源切换
- **状态**: 待实现
- **优先级**: 中
- **任务内容**:
  - 将模拟模板数据替换为真实API调用
  - 实现模板列表的分页加载
  - 添加模板搜索和筛选功能
  - 优化模板加载性能

### 6. 用户作品展示
- **状态**: 待实现
- **优先级**: 低
- **任务内容**:
  - 创建用户作品展示页面
  - 实现作品列表和详情展示
  - 添加作品分享功能
  - 实现作品点赞和收藏
